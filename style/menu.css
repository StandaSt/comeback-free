/* style/menu.css * Verze: V22 * Aktualizace: 29.1.2026 * Počet řádků:  (doplníš po vložení) */

/*
 * CÍL:
 * - SVG tlačítka (HOME + přepínač režimu) mít mimo renderované menu a správně je rozmístit:
 *   - dropdown: HOME vlevo od menu, přepínač vpravo
 *   - sidebar: tlačítka pod menu (v běžném toku)
 * - vždy ukázat jen správný přepínač (dropdown->sidebar / sidebar->dropdown)
 *
 * Pozn. (sjednocení ikon):
 * - všechna tlačítka s SVG/IMG ikonou mají JEDINOU třídu: .ikona-svg
 * - styly pro L1/L2 tlačítka se na .ikona-svg nikdy neaplikují (přes :not(.ikona-svg)).
 */

/* =========================================================
   PROMĚNNÉ (CSS custom properties)
   ========================================================= */
:root{
  --dropdown-w: 128px;
  --sidebar-w: calc(var(--dropdown-w) * 1.10);

  --border-strong: #dcdcdc;

  --btn: #f2f2f2;
  --menu-bg: #fff;

  --active-bg: #dfe9ff;
  --active-bd: #5b7cff;
  --active-tx: #1f3fbf;

  --hover-bg: #f3f5f9;
}

/* =========================================================
   SPOLEČNÁ IKONA (SVG/IMG) – jednotná třída pro ikony v menu
   ========================================================= */
.ikona-svg{
  width:30px;
  height:30px;
  display:inline-flex;
  align-items:center;
  justify-content:center;

  padding:0;
  border:1px solid var(--border-strong);
  border-radius:10px;
  background:var(--btn);

  cursor:pointer;
  color:#222;
}
.ikona-svg:hover{background:#eaeaea}
.ikona-svg:focus{outline:none}
.ikona-svg:focus-visible{
  outline:2px solid var(--active-bd);
  outline-offset:2px;
}
.ikona-svg img{
  display:block;
  width:22px;
  height:22px;
}

/* =========================================================
   OBAL MENU (společné)
   ========================================================= */
.cb-menu{ margin: 5px 20px 10px; }

/* =========================================================
   DROPDOWN: rozložení (HOME vlevo, menu uprostřed, switch vpravo)
   ========================================================= */
.cb-menu--dropdown .cb-menu-top{
  display:grid;
  grid-template-columns:auto 1fr auto;
  gap:12px;
  align-items:center; /* změna: ne "start", ale stejná výška jako L1 */
  position:relative;
}

/*
  KRITICKÉ:
  .cb-menu-switch je přímý potomek .cb-menu-top (grid),
  ale jeho děti (.cb-svg-home/.cb-svg-switch) chceme rozložit do gridu.
  Proto musí obal zmizet => display: contents.
  !important je schválně, aby to nic nepřebilo.
*/
.cb-menu--dropdown .cb-menu-top > .cb-menu-switch{
  display:contents !important;
}

.cb-menu--dropdown .cb-svg-home{ grid-column:1; }
.cb-menu--dropdown .dd-row{ grid-column:2; }
.cb-menu--dropdown .cb-svg-switch{ grid-column:3; }

/* v dropdownu: zarovnání ikon do stejné výšky jako L1 */
.cb-menu--dropdown .cb-svg-home,
.cb-menu--dropdown .cb-svg-switch{
  margin-top:0;
  display:flex;
  gap:8px;
  align-items:center;
      background: #a556ee;   /* barva pro hledání chyby  */
}

/* v dropdownu zobrazit jen přepnutí NA sidebar */
.cb-menu--dropdown #cbMenuToDropdown{ display:none; }
.cb-menu--dropdown #cbMenuToSidebar{ display:inline-flex; }

/* =========================================================
   SIDEBAR: tlačítka pod menu (běžný tok, ne absolutně)
   ========================================================= */
.cb-menu--sidebar .cb-sidebar-area{
  position:relative;
  background: var(--menu-bg);   
  /* background: #16df27;   zelená pro editaci */
  padding-bottom:0;
}

.cb-menu--sidebar .cb-menu-switch{
  margin-top:10px;
  display:flex;
  gap:8px;
  align-items:center;
}

/* uvnitř lišty: home vlevo, switch vpravo */
.cb-menu--sidebar .cb-svg-home{ flex:0 0 auto; }
.cb-menu--sidebar .cb-svg-switch{
  flex:0 0 auto;
  display:flex;
  gap:8px;
}

/* v sidebaru zobrazit jen přepnutí NA dropdown */
.cb-menu--sidebar #cbMenuToSidebar{ display:none; }
.cb-menu--sidebar #cbMenuToDropdown{ display:inline-flex; }

/* =========================================================
   OVERLAY PANEL (pro sidebar) – L2 overlay je vkládaný do <body>
   ========================================================= */
.sb-l2panel{
  display:none;
  border:1px solid var(--border-strong);
  border-radius:10px;
  background:#fff;
  padding:6px;
  width:max-content;
  max-width:min(420px,70vw);
  box-shadow:0 10px 24px rgba(0,0,0,.10);
}
.sb-l2panel.open{display:block}

.sb-l2panel .sb-l2{border-top:0;padding-top:0;margin-top:0;}
.sb-l2panel .sb-l2 + .sb-l2{margin-top:0;padding-top:0;border-top:0;}

/* =========================================================
   DROPDOWN – obecné
   ========================================================= */
.cb-dropdown-bar{
  border:0;
  background:var(--menu-bg); 
  padding:0;
  position:relative;
  z-index:10;
}

.cb-menu--dropdown .dd-row{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  align-items:flex-start;
  padding-right:0;
  padding-top:0;
  background: #86ee8e;   /* barva jsem pro hladání chyby  */
}

/* obal jedné položky 1. úrovně */
.cb-menu--dropdown .dd-l1{
  position:relative;
  width:var(--dropdown-w);
}

/* =========================================================
   DROPDOWN – 1. ÚROVEŇ (L1)
   ========================================================= */
.cb-menu--dropdown .dd-l1 > button:not(.ikona-svg){
  width:100%;
  text-align:left;
  height:30px;
  padding:0 8px;
  line-height:30px;

  border-radius:10px;
  border:1px solid var(--border-strong);
  background:var(--btn);
  cursor:pointer;

  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:8px;

  font:inherit;
  font-weight:400;
  color:#222;
}
.cb-menu--dropdown .dd-l1 > button:not(.ikona-svg):hover{
  background:var(--active-bg);
  border-color:var(--active-bd);
  color:var(--active-tx);
}
.cb-menu--dropdown .dd-l1 > button:not(.ikona-svg):focus{outline:none}
.cb-menu--dropdown .dd-l1 > button:not(.ikona-svg):focus-visible{outline:2px solid var(--active-bd);outline-offset:2px}
.cb-menu--dropdown .dd-l1.active > button:not(.ikona-svg){
  background:var(--active-bg);
  border-color:var(--active-bd);
  color:var(--active-tx);
  font-weight:700;
}

/* =========================================================
   DROPDOWN – PANEL 2. ÚROVNĚ (L2 PANEL)
   ========================================================= */
.cb-menu--dropdown .dd-panel{
  display:none;
  position:absolute;
  left:0;
  top:calc(100% + 8px);
  border:1px solid var(--border-strong);
  border-radius:10px;
  background:#fff;
  padding:8px;
  width:max-content;
  max-width:min(520px, 92vw);
  box-shadow:0 10px 24px rgba(0,0,0,.10);
  z-index:50;
}
.cb-menu--dropdown .dd-l1.open .dd-panel{display:block}

/* =========================================================
   DROPDOWN – 2. ÚROVEŇ (L2)
   ========================================================= */
.cb-menu--dropdown .dd-col2{display:flex;flex-direction:column;}

.cb-menu--dropdown .dd-l2btn{
  width:100%;
  text-align:left;
  font:inherit;
  height:30px;
  padding:0 10px;
  line-height:30px;

  border-radius:8px;
  border:1px solid transparent;
  background:#fff;
  cursor:pointer;
  font-weight:400;
  color:#222;

  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
  white-space:nowrap;
}
.cb-menu--dropdown .dd-l2btn:hover{
  background:var(--active-bg);
  border-color:var(--active-bd);
  color:var(--active-tx);
}
.cb-menu--dropdown .dd-l2btn:focus{outline:none}
.cb-menu--dropdown .dd-l2btn:focus-visible{outline:2px solid var(--active-bd);outline-offset:2px}
.cb-menu--dropdown .dd-l2btn.active{
  background:var(--active-bg);
  border-color:var(--active-bd);
  color:var(--active-tx);
}

.chev{font-weight:700}

/* =========================================================
   SIDEBAR – obecné
   ========================================================= */
.cb-sidebar-area{border:0;background:transparent;padding:0;overflow:visible;}
.cb-menu--sidebar #sidebar{width:fit-content;max-width:100%;}

/* =========================================================
   SIDEBAR – 1. ÚROVEŇ (L1)
   ========================================================= */
.cb-menu--sidebar .sb-l1{background:transparent;margin-bottom:8px;}
.cb-menu--sidebar .sb-l1 > button{
  width:100%;
  text-align:left;
  min-width: var(--sidebar-w);

  height:30px;
  padding:0 10px;
  line-height:30px;

  border:1px solid var(--border-strong);
  border-radius:10px;
  background:var(--btn);
  cursor:pointer;

  font:inherit;
  font-weight:400;
  color:#222;
}
.cb-menu--sidebar .sb-l1 > button:hover{
  background:var(--active-bg);
  border-color:var(--active-bd);
  color:var(--active-tx);
}
.cb-menu--sidebar .sb-l1 > button:focus{outline:2px solid var(--active-bd);outline-offset:2px}
.cb-menu--sidebar .sb-l1.active > button{
  background:var(--active-bg);
  border-color:var(--active-bd);
  color:var(--active-tx);
  font-weight:700;
}

/* =========================================================
   SIDEBAR – 2. ÚROVEŇ (L2) – tlačítka uvnitř overlay panelu
   ========================================================= */
.sb-l2 > button{
  width:100%;
  text-align:left;

  height:30px;
  padding:0 10px;
  line-height:30px;

  border:1px solid transparent;
  background:#fff;
  cursor:pointer;
  font:inherit;
  font-weight:400;
  color:#222;
  border-radius:10px;
}
.sb-l2 > button:hover{
  background:var(--active-bg);
  border-color:var(--active-bd);
  color:var(--active-tx);
}
.sb-l2 > button:focus{outline:2px solid var(--active-bd);outline-offset:2px}
.sb-l2 > button.active{
  background:var(--active-bg);
  border-color:var(--active-bd);
  color:var(--active-tx);
}

/* =========================================================
   MOBIL (do 900px)
   ========================================================= */
@media (max-width: 900px){
  .cb-menu{margin:8px 12px;}

  /* dropdown: na mobilu pod sebe */
  .cb-menu--dropdown .cb-menu-top{
    display:flex;
    flex-direction:column;
    align-items:stretch;
    gap:8px;
  }

  /* na mobilu nechceme contents */
  .cb-menu--dropdown .cb-menu-top > .cb-menu-switch{
    display:flex !important;
    justify-content:space-between;
    align-items:center;
    gap:8px;
  }

  .cb-menu--dropdown .cb-svg-home,
  .cb-menu--dropdown .cb-svg-switch{
    margin-top:0;

  }
  .cb-menu--dropdown .cb-svg-switch{
    justify-content:flex-end;
  }

  .cb-menu--dropdown .dd-l1{width:100%}
  .cb-menu--sidebar #sidebar{width:100%;max-width:100%}
  .cb-menu--dropdown .dd-panel{width:100%;max-width:100%}
}

/* style/menu.css * Verze: V22 * Aktualizace: 29.1.2026
   konec souboru */
